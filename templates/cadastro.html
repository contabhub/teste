<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>

    <!-- Incluindo os mesmos arquivos de CSS do seu template -->
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/responsive.css">

    <!-- Incluindo o CSS customizado -->
    <link rel="stylesheet" type="text/css" href="/assets/css/login-cadastro.css">
</head>

<body>

    <!-- Header menu -->
    <div class="header-menu">
        <div class="container">
            <div class="row">
                <nav class="navbar navbar-default">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand logos" href="#top"><img src="/assets/images/logo-branca.png" class="img-responsive" alt="logo"></a>
                    </div>
                    <!-- /.navbar-collapse -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="/login">Login</a></li>
                            <li><a href="/index">Sair</a></li>
                        </ul>
                    </div>
                </nav>
                <!-- /.navbar -->
            </div>
        </div>
    </div>
    <!-- /.header menu -->

    <div class="register-container">
        <div class="register-box">
            <h2>Cadastro</h2>
            <form onsubmit="cadastro(); return false;">
                <div class="form-group">
                    <label for="nome">Nome Completo:</label>
                    <input type="text" id="nome" class="form-control" name="nome" required>
                </div>
            
                <div class="form-group">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" class="form-control" name="cpf" required>
                </div>
            
                <div class="form-group">
                    <label for="email">E-mail:</label>
                    <input type="email" id="email" class="form-control" name="email" required>
                </div>
            
                <div class="form-group">
                    <label for="telefone">Telefone:</label>
                    <input type="text" id="telefone" class="form-control" name="telefone" required>
                </div>
            
                <div class="form-group">
                    <label for="endereco">Endereço Completo:</label>
                    <input type="text" id="endereco" class="form-control" name="endereco" required>
                </div>
                            <!-- Instituição de Ensino -->
                <div class="form-group">
                    <label for="instituicao">Instituição de Ensino:</label>
                    <input type="text" id="instituicao" class="form-control" name="instituicao" required>
                </div>

                <!-- Curso -->
                <div class="form-group">
                    <label for="curso">Curso:</label>
                    <input type="text" id="curso" class="form-control" name="curso" required>
                </div>

                <!-- Semestre/Período -->
                <div class="form-group">
                    <label for="semestre">Semestre/Período:</label>
                    <select id="semestre" class="form-control" name="semestre" required>
                        <option value="">Selecione sua situação</option>
                        <option value="1º Período">1º Período</option>
                        <option value="2º Período">2º Período</option>
                        <option value="3º Período">3º Período</option>
                        <option value="4º Período">4º Período</option>
                        <option value="5º Período">5º Período</option>
                        <option value="6º Período">6º Período</option>
                        <option value="7º Período">7º Período</option>
                        <option value="8º Período">8º Período</option>
                        <option value="9º Período">9º Período</option>
                        <option value="10º Período">10º Período</option>
                        <option value="Formado">Formado</option>
                    </select>
                </div>

                <!-- Objetivo -->
                <div class="form-group">
                    <label for="objetivo">Objetivo:</label>
                    <input type="text" id="objetivo" class="form-control" name="objetivo" required>
                </div>

                <!-- Qualificação -->
                <div class="form-group">
                    <label for="qualificacao">Qualificação:</label>
                    <input type="text" id="qualificacao" class="form-control" name="qualificacao" required>
                </div>


                <div class="form-group">
                    <label for="senha">Senha:</label>
                    <input type="password" id="senha" class="form-control" name="senha" required>
                </div>
            
                <button type="submit" class="btn btn-primary">Cadastrar</button>
            </form>
        </div>
    </div>

    <!-- Incluindo scripts necessários -->
    <script src="/assets/js/jquery-1.12.4.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script>
        // Função para fazer cadastro
        function cadastro() {
            const nome = document.querySelector('input[name="nome"]').value;
            const cpf = document.querySelector('input[name="cpf"]').value;
            const email = document.querySelector('input[name="email"]').value;
            const telefone = document.querySelector('input[name="telefone"]').value;
            const endereco = document.querySelector('input[name="endereco"]').value;
            const instituicao = document.querySelector('input[name="instituicao"]').value;
            const curso = document.querySelector('input[name="curso"]').value;
            const semestre = document.querySelector('select[name="semestre"]').value;
            const objetivo = document.querySelector('input[name="objetivo"]').value;
            const qualificacao = document.querySelector('input[name="qualificacao"]').value;
            const senha = document.querySelector('input[name="senha"]').value;

            fetch('http://127.0.0.1:5000/cadastro', { // Endereço da API do backend
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    nome: nome,
                    cpf: cpf,
                    email: email,
                    telefone: telefone,
                    endereco: endereco,
                    instituicao: instituicao,
                    curso: curso,
                    semestre: semestre,
                    objetivo: objetivo,
                    qualificacao: qualificacao,
                    senha: senha
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Cadastro realizado com sucesso');
                    window.location.href = '/login.html'; // Redirecionar para a página de login após cadastro
                } else {
                    alert(data.message);
                }
            })
            .catch(error => {
                console.error('Erro:', error);
                alert('Erro ao tentar cadastrar');
            });
        }

    </script>
</body>

</html>
